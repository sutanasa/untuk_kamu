<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise üéâ</title>

<style>
*{
  box-sizing:border-box;
  font-family:'Segoe UI',Arial,Helvetica,sans-serif;
}
body{
  margin:0;
  min-height:100vh;
  background:radial-gradient(circle at bottom,#1a0033,#3e1919);
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

/* START */
#start{
  text-align:center;
  animation:fadeIn 1.2s ease;
  z-index:5;
}
#start h1{
  font-size:42px;
  margin-bottom:20px;
}
#gift{
  font-size:72px;
  cursor:pointer;
  animation:pulse 1.4s infinite;
  filter:drop-shadow(0 0 18px #ff7bd5);
}
#hint{
  margin-top:10px;
  font-size:14px;
  opacity:.75;
}

/* FIRE TEXT */
.fire-text{
  position:absolute;
  font-size:22px;
  letter-spacing:4px;
  animation:textSoft .9s ease-out forwards;
  pointer-events:none;
  white-space:nowrap;
}

/* PARTICLE */
.firework{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  pointer-events:none;
}

/* CANVAS TEXT */
#name-canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:4;
  transition:opacity 1s ease;
}

/* CARD */
#card{
  display:none;
  position:absolute;
  width:90%;
  max-width:1000px;
  border-radius:22px;
  z-index:6;
  animation:cardFadeUp 1.4s ease forwards;
}
.card-wrap{
  display:flex;
  gap:30px;
  align-items:center;
  justify-content:center;
}
.left-side,.right-side{
  position:relative;
  width:260px;
  height:520px;
}
.polaroid{
  position:absolute;
  width:170px;
  background:#fff;
  padding:6px;
  border-radius:6px;
  box-shadow:0 14px 30px rgba(0,0,0,.55);
}
.polaroid img{
  width:100%;
  border-radius:4px;
}
.l1{top:0;left:0;transform:rotate(-6deg)}
.l2{top:185px;left:0;transform:rotate(2deg)}
.l3{top:370px;left:30px;transform:rotate(-8deg)}
.r1{top:0;right:20px;transform:rotate(6deg)}
.r2{top:185px;right:0;transform:rotate(-2deg)}
.r3{top:370px;right:30px;transform:rotate(8deg)}

.message{
  max-width:420px;
  background:rgba(255,255,255,.08);
  padding:22px;
  border-radius:18px;
  box-shadow:0 0 45px rgba(255,140,220,.2);
}
.message h2{color:#ff8fe8}

/* ANIMATION */
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.18)}
  100%{transform:scale(1)}
}
@keyframes fadeIn{
  from{opacity:0;transform:scale(.9)}
  to{opacity:1}
}
@keyframes cardFadeUp{
  from{opacity:0;transform:translateY(60px)}
  to{opacity:1}
}
@keyframes textSoft{
  0%{opacity:0;transform:translateY(12px)}
  40%{opacity:1}
  100%{opacity:0;transform:translateY(-18px)}
}
</style>
</head>

<body>

<div id="start">
  <h1>Happy Birthday üéÇ</h1>
  <div id="gift">üéÅ</div>
  <div id="hint">Klik kadonya ya‚Ä¶</div>
</div>

<canvas id="name-canvas"></canvas>

<div id="card">
  <div class="card-wrap">
    <div class="left-side">
      <div class="polaroid l1"><img src="img/1.jpeg"></div>
      <div class="polaroid l2"><img src="img/2.jpeg"></div>
      <div class="polaroid l3"><img src="img/3.jpeg"></div>
    </div>

    <div class="message">
      <h2>Happy Birthday</h2>
      <p>
        it's your special day, aisyah azzahra ü§ç<br></br>

        Mungkin ini hanya terlihat seperti animasi biasa,
        tidak indah dan jauh dari sempurna. Tapi di baliknya
        ada lelah, bingung, dan rasa ingin menyerah saat kode
        animasi terasa terlalu berat. Meski hasilnya belum seperti 
        yang diharapkan, aku tetap menyelesaikannya dengan sisa
        keyakinan yang ada. Ini hanyalah keluh kesah seorang pembuat.<br></br>
        
        Semoga semua yang kamu jalani, sekecil apa pun, tidak pernah sia-sia
      </p>
      <span class="from">‚Äî from a friend</span>
    </div>

    <div class="right-side">
      <div class="polaroid r1"><img src="img/4.jpeg"></div>
      <div class="polaroid r2"><img src="img/5.jpeg"></div>
      <div class="polaroid r3"><img src="img/6.jpeg"></div>
    </div>
  </div>
</div>

<audio autoplay loop src="voice/Edd_Sheeran_-_Perfect_(mp3.pm).mp3"></audio>

<script>
const texts=["HAPPY BIRTHDAY","‚ú®üíñ‚ú®","I LOVE YOU"];
const colors=["#ffd700","#ff7bd5","#b388ff","#ffffff"];

const gift=document.getElementById('gift');
const start=document.getElementById('start');
const card=document.getElementById('card');

function clamp(v,min,max){return Math.max(min,Math.min(max,v));}

/* FIREWORK */
function firework(x,y){
  const color=colors[Math.floor(Math.random()*colors.length)];

  const t=document.createElement('div');
  t.className='fire-text';
  t.innerText=texts[Math.floor(Math.random()*texts.length)];
  t.style.left=(x-120)+'px';
  t.style.top=(y-30)+'px';
  t.style.color=color;
  t.style.textShadow=`0 0 18px ${color}`;
  document.body.appendChild(t);

  for(let i=0;i<32;i++){
    const p=document.createElement('div');
    p.className='firework';
    p.style.background=color;
    p.style.left=x+'px';
    p.style.top=y+'px';
    document.body.appendChild(p);

    const a=Math.random()*Math.PI*2;
    const s=Math.random()*3+2;
    let life=45;

    (function anim(){
      life--;
      const dx=clamp(Math.cos(a)*s*(45-life),-120,120);
      const dy=clamp(Math.sin(a)*s*(45-life),-120,120);
      p.style.transform=`translate(${dx}px,${dy}px)`;
      p.style.opacity=life/45;
      if(life>0) requestAnimationFrame(anim);
      else p.remove();
    })();
  }
  setTimeout(()=>t.remove(),1200);
}

/* TEXT PARTICLE */
const canvas=document.getElementById('name-canvas');
const ctx=canvas.getContext('2d');
canvas.width=innerWidth;
canvas.height=innerHeight;

const NAME="AISYAH AZZAHRA";
let particles=[];

function createTextParticles(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.font="bold 72px Segoe UI";
  ctx.textAlign="center";
  ctx.fillText(NAME,canvas.width/2,canvas.height/2);

  const data=ctx.getImageData(0,0,canvas.width,canvas.height).data;
  particles=[];

  for(let y=0;y<canvas.height;y+=6){
    for(let x=0;x<canvas.width;x+=6){
      const i=(y*canvas.width+x)*4;
      if(data[i+3]>150){
        particles.push({
          x:Math.random()*canvas.width,
          y:Math.random()*canvas.height,
          tx:x,
          ty:y,
          vx:0,
          vy:0
        });
      }
    }
  }
  ctx.clearRect(0,0,canvas.width,canvas.height);
}

function animateText(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{
    p.vx+=(p.tx-p.x)*0.02;
    p.vy+=(p.ty-p.y)*0.02;
    p.vx*=0.85;
    p.vy*=0.85;
    p.x+=p.vx;
    p.y+=p.vy;
    ctx.fillStyle="#ff7bd5";
    ctx.fillRect(p.x,p.y,3,3);
  });
  requestAnimationFrame(animateText);
}

function explodeText(){
  particles.forEach(p=>{
    p.vx=(Math.random()-0.5)*20;
    p.vy=(Math.random()-0.5)*20;
  });
}

/* CLICK */
gift.onclick=()=>{
  start.style.display='none';
  let c=0;

  const interval=setInterval(()=>{
    firework(
      Math.random()*(innerWidth-200)+100,
      Math.random()*(innerHeight*0.35)+120
    );
    if(++c>=7){
      clearInterval(interval);

      createTextParticles();
      animateText();

      setTimeout(()=>{
        explodeText();
        canvas.style.opacity=0;
        setTimeout(()=>{
          card.style.display='block';
        },1200);
      },1800);
    }
  },500);
};
</script>

</body>
</html>
